[{"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/index.js":"1","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/reportWebVitals.js":"2","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/App.js":"3","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Signup.js":"4","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Loggato.js":"5","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Login.js":"6","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Navbar.js":"7","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Soldi.js":"8","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/NavbarLoggato.js":"9","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Home.js":"10","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Deposito.js":"11","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Withdraw.js":"12","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Buy.js":"13","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js":"14"},{"size":507,"mtime":1655470075999,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1644829089000,"results":"17","hashOfConfig":"16"},{"size":748,"mtime":1655842131212,"results":"18","hashOfConfig":"16"},{"size":3996,"mtime":1655990827538,"results":"19","hashOfConfig":"16"},{"size":2994,"mtime":1655992642338,"results":"20","hashOfConfig":"16"},{"size":2471,"mtime":1655989719348,"results":"21","hashOfConfig":"16"},{"size":424,"mtime":1645007553000,"results":"22","hashOfConfig":"16"},{"size":420,"mtime":1655844420182,"results":"23","hashOfConfig":"16"},{"size":966,"mtime":1655842484007,"results":"24","hashOfConfig":"16"},{"size":1857,"mtime":1655845548514,"results":"25","hashOfConfig":"16"},{"size":1944,"mtime":1655993421328,"results":"26","hashOfConfig":"16"},{"size":2495,"mtime":1655993414288,"results":"27","hashOfConfig":"16"},{"size":3095,"mtime":1655993408564,"results":"28","hashOfConfig":"16"},{"size":4989,"mtime":1655993861790,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},"dmfsy1",{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"43"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"33"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77"},"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/index.js",[],[],["78","79"],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/reportWebVitals.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/App.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Signup.js",[],[],["80","81"],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Loggato.js",["82","83"],[],"import {BrowserRouter as Router, Route, Switch} from 'react-router-dom'; //servono per andare in diverse pagine\nimport Home from './Home';\nimport NavbarLoggato from './NavbarLoggato';\nimport Soldi from './Soldi';\nimport Deposito from './Deposito';\nimport Withdraw from './Withdraw';\nimport Buy from './Buy';\nimport ListTransactions from './ListTransactions';\nimport axios from 'axios';\nimport {useEffect} from 'react';\nimport {useState} from 'react';\n\nconst Loggato = () => {\n    const [nome, setNome] = useState('');\n    const [euro, setEuro] = useState(0);\n    const [dollari, setDollari] = useState(0);\n    const [getFoto, setGetFoto] = useState(null);\n\n    useEffect(async () => { //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n        const url = \"http://localhost:8000/query/\";\n        const risposta = await axios.post(url);\n        const oggetto = risposta.data;\n\n        if (oggetto[\"ridirezione\"]) {\n            alert('Sessione scaduta');\n            window.location.href = 'http://localhost:3000/';\n        }\n        else {\n            if (oggetto[\"isTuttoOk\"]) {\n                setNome(oggetto[\"nome\"][0].toUpperCase() + oggetto[\"nome\"].slice(1)); //metto la prima lettera maiuscola\n                setEuro(Number(oggetto[\"euro\"]).toFixed(2));\n                setDollari(Number(oggetto[\"dollari\"]).toFixed(2));\n            }\n            else\n                alert(oggetto[\"messaggio\"]);\n            \n        }\n\n        // prendo la foto profilo\n        const url2 = \"http://localhost:8000/getImage/\";\n        const risposta2 = await axios.get(url2, {responseType: \"blob\"});\n        getBase64(risposta2.data, (foto) => {setGetFoto(foto)});\n    });\n\n    function getBase64(file, cb) {\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = function () {\n            cb(reader.result)\n        };\n        reader.onerror = function (error) {\n            console.log('Error: ', error);\n        };\n    }\n\n    \n\n    return (\n        <Router>\n            <div className=\"loggato\">\n                <NavbarLoggato />\n                <Soldi euro={euro} dollari={dollari}/>\n\n                <Switch>\n                    <Route exact path='/home'>\n                        <Home nome={nome} foto={getFoto}/>\n                    </Route>\n\n                    <Route exact path='/deposit'>\n                        <Deposito />\n                    </Route>\n\n                    <Route exact path='/withdraw'>\n                        <Withdraw euro={euro} dollari={dollari}/>\n                    </Route>\n\n                    <Route exact path='/buy'>\n                        <Buy euro={euro} dollari={dollari}/>\n                    </Route>\n\n                    <Route exact path='/listTransactions'>\n                        <ListTransactions />\n                    </Route>\n                </Switch>\n                \n            </div>\n        </Router>\n    );\n}\nexport default Loggato;","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Login.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Navbar.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Soldi.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/NavbarLoggato.js",["84"],[],"import {Link} from 'react-router-dom'; //se usi link invece di <a href> non passi per il server\nimport '../css/NavbarLoggato.css';\nimport axios from 'axios';\n\nconst NavbarLoggato = () => {\n\n    const logout = async (e) => {\n        const url = 'http://localhost:8000/logout/';\n        const risposta = await axios.post(url);\n        window.location.href = 'http://localhost:3000/';\n    }\n    return (\n        <nav className=\"navbar\">\n            <div className=\"divLink\">\n                <Link to='/home' className='link'>Home</Link>\n                <Link to='/deposit' className='link'>Carica</Link>\n                <Link to='/withdraw' className='link'>Deposito</Link>\n                <Link to='/buy' className='link'>Converti</Link>\n                <Link to='/listTransactions' className='link'>Storico</Link>\n                <Link to = '/' onClick={logout} className='link'>Logout</Link>\n            </div>\n        </nav>\n    );\n}\n \nexport default NavbarLoggato\n","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Home.js",["85"],[],"import '../css/Home.css';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\naxios.defaults.withCredentials = true;\n\nconst Home = (props) => {\n    const nome = props.nome;\n    const getFoto = props.foto;\n\n    const [foto, setFoto] = useState();\n    const [descrizione, setDescrizione] = useState(\"Scegli un'immagine\");\n\n    const handleLoginForm = async (e) => {\n        const url = \"http://localhost:8000/uploadImage/\";\n\n        const dati = new FormData();\n        \n        dati.append(\"foto\", foto, foto.name);\n        \n        const body = {method: \"post\", url: url, data: dati, withCredentials: true, headers: { \"Content-Type\": \"multipart/form-data\" }}\n        const risposta = await axios (url, body);\n        const oggetto = risposta.data;\n        alert(oggetto.messaggio)\n    }\n\n    return (\n        <div className=\"divHome\">\n            <h1>Benvenuto</h1>\n            <h2>{nome}</h2>\n\n            {   !!getFoto && \n                <img id=\"foto\" src={getFoto} alt=\"Foto profilo\"/>\n            }\n\n            <form encType=\"multipart/form-data\" onSubmit = {handleLoginForm}>\n                <br />\n                <div id=\"divFile\">\n                    <label id=\"labelFile\" htmlFor=\"file\">\n                        Scegli\n                        <input id=\"file\" accept=\"image/png, image/jpg, image/gif, image/jpeg\" type=\"file\" onChange={e => {setFoto(e.target.files[0]); setDescrizione(e.target.files[0].name);}}/>\n                    </label>\n                    <span id=\"spanFile\">\n                        {descrizione}\n                    </span>\n                </div>\n                <br />\n                <br />\n\n                <button id='bottone' type='submit'> Invia</button>\n                \n            </form>   \n            <br />         \n        </div> \n    );\n}\n \nexport default Home;","/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Deposito.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Withdraw.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/Buy.js",[],[],"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js",["86","87","88","89","90","91","92","93","94","95","96"],[],"import '../css/Form.css';\nimport '../css/ListTransactions.css';\nimport {useEffect} from 'react';\nimport {useState} from 'react';\nimport axios from 'axios';\nimport {controllaValuta} from './Buy';\nconst parse = require('html-react-parser');\nconst ListTransactions = () => {\n\n    const [tabella, setTabella] = useState('');\n    const url = \"http://localhost:8000/listTransactions/\";\n\n    useEffect(async () =>{ //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n        const posizioneValuta = window.location.href.indexOf('valuta='); //prendo il valore della valuta\n        let valuta = '';\n        if (posizioneValuta != -1)\n            valuta = window.location.href.slice(posizioneValuta+7, posizioneValuta+5+5);\n        \n\n        const posizioneData = window.location.href.indexOf('data='); //prendo il valore della data\n        let data = '';\n        if (posizioneData != -1)\n            data = window.location.href.slice(posizioneData+5, posizioneData+5+10);\n        \n\n        const corpo = {\n            valuta: valuta,\n            data: data\n        };\n\n        const risposta = await axios.post(url, corpo);\n        const oggetto = risposta.data;\n        \n        if (oggetto[\"ridirezione\"]) {\n            alert('Sessione scaduta');\n            window.location.href = 'http://localhost:3000/';\n        }\n        else {\n            if (oggetto[\"isTuttoOk\"])  {\n                if (oggetto[\"listaTransizioni\"] != '[]')\n                    creaTabella(oggetto[\"listaTransizioni\"]); //creo la tabella \n            }\n            else\n                alert(oggetto[\"messaggio\"]);   \n        }\n    });\n\n    function creaTabella (lista) {\n        let nuovaTabella = '';\n        let valutaComprata = '';\n        let valutaSpesa = '';\n        for (let i = 0; i < lista.length; i++) {\n            if (i%2 == 1) //guardo se devo fare lo sfondo bianco o grigio\n                nuovaTabella = nuovaTabella + '<tr>';\n            \n            else\n                nuovaTabella = nuovaTabella + '<tr className = \"dispari\">';\n            \n            if (lista[i][\"valuta_comprata\"] == 'USD') { //setto le valute\n                valutaComprata = '$';\n                valutaSpesa = '€';\n            }\n            else {\n                valutaComprata = '€';\n                valutaSpesa = '$';\n            }\n\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_spesa\"].toFixed(2) + \" \" + valutaSpesa + \"</td>\"; //spesa\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_comprata\"].toFixed(2) + \" \" + valutaComprata + \"</td>\"; //comprata\n            nuovaTabella = nuovaTabella + '<td>' + giraData(lista[i][\"data\"]) + \"</td>\"; //data\n            //nuovaTabella = nuovaTabella + '<td>' + lista[i][\"data\"] + \"</td>\"; //data\n            nuovaTabella = nuovaTabella + '</tr>';\n        }\n        setTabella(nuovaTabella);\n    }\n\n    function giraData(data) {\n       //trasformo da anno mese giorno a giorno mese anno\n        return data.slice(8, 10)+'-'+data.slice(5, 7)+'-'+data.slice(0, 4);\n    }\n\n    const handleLoginForm = async (e) => {\n        e.preventDefault();\n        const data = e.target.data.value;\n        const valuta = e.target.valuta.value;\n\n        if (valuta !== \"\" && !controllaValuta(valuta)) { // controlla la valuta\n            alert(\"Non hai inserito correttamente la valuta\");\n            return;\n        }\n\n        let nuovaQuery = 'http://localhost:3000/listTransactions';\n        if (data!='' || valuta!='') {\n            nuovaQuery = nuovaQuery+'?'\n            if (data!='' && valuta!='')\n                nuovaQuery = nuovaQuery+'data='+data+'&valuta='+valuta;\n            \n            else if (data!='')\n                nuovaQuery = nuovaQuery+'data='+data;\n            \n            else\n                nuovaQuery = nuovaQuery+'valuta='+valuta;\n        }\n        window.location.href = nuovaQuery;\n    }\n\n    return (\n        <div className=\"listTransactions\">\n            <h1>Storico delle transizioni</h1>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Quantita Spesa</th>\n                        <th>Quantita Comprata</th>\n                        <th>Data</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {parse(tabella) /* creo la tabella*/ }\n                </tbody>\n            </table>\n            \n            <h2>Filtri</h2>\n            <form id = \"form\" onSubmit = {handleLoginForm}>\n                <input type=\"date\" id=\"data\" name=\"data\" /> <br /> <br />\n\n                <select id=\"valuta\" name=\"valuta\" form='form'>\n                    <option value=\"\">Nessuna</option>\n                    <option value=\"USD\">USD</option>\n                    <option value=\"EUR\">EUR</option>\n                </select> <br /> <br />\n                <input id='bottoneInterno' type='submit'/>\n            </form>\n        </div> \n    );\n}\n \nexport default ListTransactions;",{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"97","replacedBy":"101"},{"ruleId":"99","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":19,"column":5,"nodeType":"105","endLine":19,"endColumn":14,"suggestions":"106"},{"ruleId":"103","severity":1,"message":"107","line":19,"column":15,"nodeType":"108","endLine":43,"endColumn":6},{"ruleId":"109","severity":1,"message":"110","line":9,"column":15,"nodeType":"105","messageId":"111","endLine":9,"endColumn":23},{"ruleId":"109","severity":1,"message":"112","line":4,"column":10,"nodeType":"105","messageId":"111","endLine":4,"endColumn":19},{"ruleId":"103","severity":1,"message":"107","line":13,"column":15,"nodeType":"108","endLine":46,"endColumn":6},{"ruleId":"113","severity":1,"message":"114","line":16,"column":29,"nodeType":"115","messageId":"116","endLine":16,"endColumn":31},{"ruleId":"113","severity":1,"message":"114","line":22,"column":27,"nodeType":"115","messageId":"116","endLine":22,"endColumn":29},{"ruleId":"113","severity":1,"message":"114","line":40,"column":49,"nodeType":"115","messageId":"116","endLine":40,"endColumn":51},{"ruleId":"113","severity":1,"message":"117","line":53,"column":21,"nodeType":"115","messageId":"116","endLine":53,"endColumn":23},{"ruleId":"113","severity":1,"message":"117","line":59,"column":45,"nodeType":"115","messageId":"116","endLine":59,"endColumn":47},{"ruleId":"113","severity":1,"message":"114","line":93,"column":17,"nodeType":"115","messageId":"116","endLine":93,"endColumn":19},{"ruleId":"113","severity":1,"message":"114","line":93,"column":31,"nodeType":"115","messageId":"116","endLine":93,"endColumn":33},{"ruleId":"113","severity":1,"message":"114","line":95,"column":21,"nodeType":"115","messageId":"116","endLine":95,"endColumn":23},{"ruleId":"113","severity":1,"message":"114","line":95,"column":35,"nodeType":"115","messageId":"116","endLine":95,"endColumn":37},{"ruleId":"113","severity":1,"message":"114","line":98,"column":26,"nodeType":"115","messageId":"116","endLine":98,"endColumn":28},"no-native-reassign",["118"],"no-negated-in-lhs",["119"],["118"],["119"],"react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setNome'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [] as a second argument to the useEffect Hook.","Identifier",["120"],"Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","no-unused-vars","'risposta' is assigned a value but never used.","unusedVar","'useEffect' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","Expected '===' and instead saw '=='.","no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},"Add dependencies array: []",{"range":"123","text":"124"},[1725,1725],", []"]