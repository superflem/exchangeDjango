{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js\",\n    _s = $RefreshSig$();\n\nimport '../css/Form.css';\nimport '../css/ListTransactions.css';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst parse = require('html-react-parser');\n\nconst ListTransactions = () => {\n  _s();\n\n  //const [tabella, setTabella] = useState('<tr><td></td><td></td><td></td></tr>');\n  const [tabella, setTabella] = useState('');\n  const url = \"http://localhost:8000/listTransactions/\";\n  useEffect(async () => {\n    //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n    const posizioneValuta = window.location.href.indexOf('valuta='); //prendo il valore della valuta\n\n    let valuta = '';\n\n    if (posizioneValuta != -1) {\n      valuta = window.location.href.slice(posizioneValuta + 7, posizioneValuta + 5 + 5);\n    }\n\n    const posizioneData = window.location.href.indexOf('data='); //prendo il valore della data\n\n    let data = '';\n\n    if (posizioneData != -1) {\n      data = window.location.href.slice(posizioneData + 5, posizioneData + 5 + 10);\n    }\n\n    const corpo = {\n      valuta: valuta,\n      data: data\n    };\n    const risposta = await axios.post(url, corpo);\n    const oggetto = risposta.data; //alert(oggetto[\"listaTransizioni\"])\n\n    if (oggetto[\"ridirezione\"]) {\n      alert('Sessione scaduta');\n      window.location.href = 'http://localhost:3000/';\n    } else {\n      if (oggetto[\"isTuttoOk\"]) {\n        if (oggetto[\"listaTransizioni\"] != '[]') {\n          creaTabella(oggetto[\"listaTransizioni\"]); //creo la tabella \n        }\n      } else {\n        alert(oggetto[\"messaggio\"]);\n      }\n    }\n  });\n\n  function creaTabella(lista) {\n    //const lista = JSON.parse(oggetto);\n    let nuovaTabella = '';\n    let valutaComprata = '';\n    let valutaSpesa = '';\n\n    for (let i = 0; i < lista.length; i++) {\n      if (i % 2 == 1) //guardo se devo fare lo sfondo bianco o grigio\n        {\n          nuovaTabella = nuovaTabella + '<tr>';\n        } else {\n        nuovaTabella = nuovaTabella + '<tr className = \"dispari\">';\n      }\n\n      if (lista[i][\"valuta_comprata\"] == 'USD') //setto le valute\n        {\n          valutaComprata = '$';\n          valutaSpesa = '€';\n        } else {\n        valutaComprata = '€';\n        valutaSpesa = '$';\n      }\n\n      nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_spesa\"].toFixed(2) + \" \" + valutaSpesa + \"</td>\"; //spesa\n\n      nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_comprata\"].toFixed(2) + \" \" + valutaComprata + \"</td>\"; //comprata\n\n      nuovaTabella = nuovaTabella + '<td>' + giraData(lista[i][\"data\"]) + \"</td>\"; //data\n      //nuovaTabella = nuovaTabella + '<td>' + lista[i][\"data\"] + \"</td>\"; //data\n\n      nuovaTabella = nuovaTabella + '</tr>';\n    }\n\n    setTabella(nuovaTabella);\n  }\n\n  function giraData(data) {\n    //trasformo da anno mese giorno a giorno mese anno\n    return data.slice(8, 10) + '-' + data.slice(5, 7) + '-' + data.slice(0, 4);\n  }\n\n  const handleLoginForm = async e => {\n    e.preventDefault();\n    const data = e.target.data.value;\n    const valuta = e.target.valuta.value;\n    let nuovaQuery = 'http://localhost:3000/listTransactions';\n\n    if (data != '' || valuta != '') {\n      nuovaQuery = nuovaQuery + '?';\n\n      if (data != '' && valuta != '') {\n        nuovaQuery = nuovaQuery + 'data=' + data + '&valuta=' + valuta;\n      } else if (data != '') {\n        nuovaQuery = nuovaQuery + 'data=' + data;\n      } else {\n        nuovaQuery = nuovaQuery + 'valuta=' + valuta;\n      }\n    }\n\n    window.location.href = nuovaQuery;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"listTransactions\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Storico delle transizioni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantita Spesa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantita Comprata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: parse(tabella)\n        /* creo la tabella*/\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Filtri\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form\",\n      onSubmit: handleLoginForm,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"data\",\n        name: \"data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 61\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"valuta\",\n        name: \"valuta\",\n        form: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Nessuna\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"USD\",\n          children: \"USD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"EUR\",\n          children: \"EUR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 27\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"bottoneInterno\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ListTransactions, \"SQKlMf7HfT9Phdekk9SPhldwe8M=\");\n\n_c = ListTransactions;\nexport default ListTransactions;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListTransactions\");","map":{"version":3,"sources":["/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js"],"names":["useEffect","useState","axios","parse","require","ListTransactions","tabella","setTabella","url","posizioneValuta","window","location","href","indexOf","valuta","slice","posizioneData","data","corpo","risposta","post","oggetto","alert","creaTabella","lista","nuovaTabella","valutaComprata","valutaSpesa","i","length","toFixed","giraData","handleLoginForm","e","preventDefault","target","value","nuovaQuery"],"mappings":"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","sourcesContent":["import '../css/Form.css';\nimport '../css/ListTransactions.css';\nimport {useEffect} from 'react';\nimport {useState} from 'react';\nimport axios from 'axios';\nconst parse = require('html-react-parser');\nconst ListTransactions = () => {\n\n    //const [tabella, setTabella] = useState('<tr><td></td><td></td><td></td></tr>');\n    const [tabella, setTabella] = useState('');\n    const url = \"http://localhost:8000/listTransactions/\";\n\n    useEffect(async () =>{ //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n\n        const posizioneValuta = window.location.href.indexOf('valuta='); //prendo il valore della valuta\n        let valuta = '';\n        if (posizioneValuta != -1)\n        {\n            valuta = window.location.href.slice(posizioneValuta+7, posizioneValuta+5+5);\n        }\n\n        const posizioneData = window.location.href.indexOf('data='); //prendo il valore della data\n        let data = '';\n        if (posizioneData != -1)\n        {\n            data = window.location.href.slice(posizioneData+5, posizioneData+5+10);\n        }\n\n        const corpo = {\n            valuta: valuta,\n            data: data\n        };\n\n        const risposta = await axios.post(url, corpo);\n        const oggetto = risposta.data;\n\n        //alert(oggetto[\"listaTransizioni\"])\n        \n        if (oggetto[\"ridirezione\"])\n        {\n            alert('Sessione scaduta');\n            window.location.href = 'http://localhost:3000/';\n        }\n        else\n        {\n            if (oggetto[\"isTuttoOk\"]) \n            {\n                if (oggetto[\"listaTransizioni\"] != '[]')\n                {\n                    creaTabella(oggetto[\"listaTransizioni\"]); //creo la tabella \n                }\n            }\n            else\n            {\n                alert(oggetto[\"messaggio\"]);\n            }\n        }\n    });\n\n    function creaTabella (lista)\n    {\n        //const lista = JSON.parse(oggetto);\n        let nuovaTabella = '';\n        let valutaComprata = '';\n        let valutaSpesa = '';\n        for (let i = 0; i < lista.length; i++)\n        {\n            if (i%2 == 1) //guardo se devo fare lo sfondo bianco o grigio\n            {\n                nuovaTabella = nuovaTabella + '<tr>';\n            }\n            else\n            {\n                nuovaTabella = nuovaTabella + '<tr className = \"dispari\">';\n            }\n\n            if (lista[i][\"valuta_comprata\"] == 'USD') //setto le valute\n            {\n                valutaComprata = '$';\n                valutaSpesa = '€';\n            }\n            else\n            {\n                valutaComprata = '€';\n                valutaSpesa = '$';\n            }\n\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_spesa\"].toFixed(2) + \" \" + valutaSpesa + \"</td>\"; //spesa\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_comprata\"].toFixed(2) + \" \" + valutaComprata + \"</td>\"; //comprata\n            nuovaTabella = nuovaTabella + '<td>' + giraData(lista[i][\"data\"]) + \"</td>\"; //data\n            //nuovaTabella = nuovaTabella + '<td>' + lista[i][\"data\"] + \"</td>\"; //data\n            nuovaTabella = nuovaTabella + '</tr>';\n        }\n        setTabella(nuovaTabella);\n    }\n\n    function giraData(data)\n    {   //trasformo da anno mese giorno a giorno mese anno\n        return data.slice(8, 10)+'-'+data.slice(5, 7)+'-'+data.slice(0, 4);\n    }\n\n    const handleLoginForm = async (e) =>\n    {\n        e.preventDefault();\n        const data = e.target.data.value;\n        const valuta = e.target.valuta.value;\n\n        let nuovaQuery = 'http://localhost:3000/listTransactions';\n        if (data!='' || valuta!='')\n        {\n            nuovaQuery = nuovaQuery+'?'\n            if (data!='' && valuta!='')\n            {\n                nuovaQuery = nuovaQuery+'data='+data+'&valuta='+valuta;\n            }\n            else if (data!='')\n            {\n                nuovaQuery = nuovaQuery+'data='+data;\n            }\n            else\n            {\n                nuovaQuery = nuovaQuery+'valuta='+valuta;\n            }\n        }\n\n        window.location.href = nuovaQuery;\n    }\n\n    return (\n        <div className=\"listTransactions\">\n            <h1>Storico delle transizioni</h1>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Quantita Spesa</th>\n                        <th>Quantita Comprata</th>\n                        <th>Data</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {parse(tabella) /* creo la tabella*/ }\n                </tbody>\n            </table>\n            \n            <h2>Filtri</h2>\n            <form id = \"form\" onSubmit = {handleLoginForm}>\n                <input type=\"date\" id=\"data\" name=\"data\" /> <br /> <br />\n\n                <select id=\"valuta\" name=\"valuta\" form='form'>\n                    <option value=\"\">Nessuna</option>\n                    <option value=\"USD\">USD</option>\n                    <option value=\"EUR\">EUR</option>\n                </select> <br /> <br />\n                <input id='bottoneInterno' type='submit'/>\n            </form>\n\n            \n        </div> \n        \n\n\n     );\n}\n \nexport default ListTransactions;"]},"metadata":{},"sourceType":"module"}