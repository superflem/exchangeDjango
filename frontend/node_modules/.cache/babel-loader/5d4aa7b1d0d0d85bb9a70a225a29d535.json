{"ast":null,"code":"var _jsxFileName = \"/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js\",\n    _s = $RefreshSig$();\n\nimport '../css/Form.css';\nimport '../css/ListTransactions.css';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { controllaValuta } from './Buy';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst parse = require('html-react-parser');\n\nconst ListTransactions = () => {\n  _s();\n\n  //const [tabella, setTabella] = useState('<tr><td></td><td></td><td></td></tr>');\n  const [tabella, setTabella] = useState('');\n  const url = \"http://localhost:8000/listTransactions/\";\n  useEffect(async () => {\n    //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n    const posizioneValuta = window.location.href.indexOf('valuta='); //prendo il valore della valuta\n\n    let valuta = '';\n    if (posizioneValuta != -1) valuta = window.location.href.slice(posizioneValuta + 7, posizioneValuta + 5 + 5);\n    const posizioneData = window.location.href.indexOf('data='); //prendo il valore della data\n\n    let data = '';\n    if (posizioneData != -1) data = window.location.href.slice(posizioneData + 5, posizioneData + 5 + 10);\n    const corpo = {\n      valuta: valuta,\n      data: data\n    };\n    const risposta = await axios.post(url, corpo);\n    const oggetto = risposta.data;\n\n    if (oggetto[\"ridirezione\"]) {\n      alert('Sessione scaduta');\n      window.location.href = 'http://localhost:3000/';\n    } else {\n      if (oggetto[\"isTuttoOk\"]) {\n        if (oggetto[\"listaTransizioni\"] != '[]') creaTabella(oggetto[\"listaTransizioni\"]); //creo la tabella \n      } else alert(oggetto[\"messaggio\"]);\n    }\n  });\n\n  function creaTabella(lista) {\n    let nuovaTabella = '';\n    let valutaComprata = '';\n    let valutaSpesa = '';\n\n    for (let i = 0; i < lista.length; i++) {\n      if (i % 2 == 1) //guardo se devo fare lo sfondo bianco o grigio\n        nuovaTabella = nuovaTabella + '<tr>';else nuovaTabella = nuovaTabella + '<tr className = \"dispari\">';\n\n      if (lista[i][\"valuta_comprata\"] == 'USD') {\n        //setto le valute\n        valutaComprata = '$';\n        valutaSpesa = '€';\n      } else {\n        valutaComprata = '€';\n        valutaSpesa = '$';\n      }\n\n      nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_spesa\"].toFixed(2) + \" \" + valutaSpesa + \"</td>\"; //spesa\n\n      nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_comprata\"].toFixed(2) + \" \" + valutaComprata + \"</td>\"; //comprata\n\n      nuovaTabella = nuovaTabella + '<td>' + giraData(lista[i][\"data\"]) + \"</td>\"; //data\n      //nuovaTabella = nuovaTabella + '<td>' + lista[i][\"data\"] + \"</td>\"; //data\n\n      nuovaTabella = nuovaTabella + '</tr>';\n    }\n\n    setTabella(nuovaTabella);\n  }\n\n  function giraData(data) {\n    //trasformo da anno mese giorno a giorno mese anno\n    return data.slice(8, 10) + '-' + data.slice(5, 7) + '-' + data.slice(0, 4);\n  }\n\n  const handleLoginForm = async e => {\n    e.preventDefault();\n    const data = e.target.data.value;\n    const valuta = e.target.valuta.value;\n\n    if (!controllaValuta(valuta)) {\n      // controlla la valuta\n      alert(\"Non hai inserito correttamente i soldi\");\n      return;\n    }\n\n    let nuovaQuery = 'http://localhost:3000/listTransactions';\n\n    if (data != '' || valuta != '') {\n      nuovaQuery = nuovaQuery + '?';\n      if (data != '' && valuta != '') nuovaQuery = nuovaQuery + 'data=' + data + '&valuta=' + valuta;else if (data != '') nuovaQuery = nuovaQuery + 'data=' + data;else nuovaQuery = nuovaQuery + 'valuta=' + valuta;\n    }\n\n    window.location.href = nuovaQuery;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"listTransactions\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Storico delle transizioni\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantita Spesa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quantita Comprata\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: parse(tabella)\n        /* creo la tabella*/\n\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Filtri\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"form\",\n      onSubmit: handleLoginForm,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"data\",\n        name: \"data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 61\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 68\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"valuta\",\n        name: \"valuta\",\n        form: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Nessuna\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"USD\",\n          children: \"USD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"EUR\",\n          children: \"EUR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 27\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"bottoneInterno\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ListTransactions, \"SQKlMf7HfT9Phdekk9SPhldwe8M=\");\n\n_c = ListTransactions;\nexport default ListTransactions;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListTransactions\");","map":{"version":3,"sources":["/Users/giuseppe/Desktop/progettoAlexCaraffi/frontend/src/js/ListTransactions.js"],"names":["useEffect","useState","axios","controllaValuta","parse","require","ListTransactions","tabella","setTabella","url","posizioneValuta","window","location","href","indexOf","valuta","slice","posizioneData","data","corpo","risposta","post","oggetto","alert","creaTabella","lista","nuovaTabella","valutaComprata","valutaSpesa","i","length","toFixed","giraData","handleLoginForm","e","preventDefault","target","value","nuovaQuery"],"mappings":"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","sourcesContent":["import '../css/Form.css';\nimport '../css/ListTransactions.css';\nimport {useEffect} from 'react';\nimport {useState} from 'react';\nimport axios from 'axios';\nimport {controllaValuta} from './Buy';\nconst parse = require('html-react-parser');\n\nconst ListTransactions = () => {\n\n    //const [tabella, setTabella] = useState('<tr><td></td><td></td><td></td></tr>');\n    const [tabella, setTabella] = useState('');\n    const url = \"http://localhost:8000/listTransactions/\";\n\n    useEffect(async () =>{ //una volta caricata la pagina, controllo che il token sia valido e inserisco i valori dei soldi nella pagina html\n\n        const posizioneValuta = window.location.href.indexOf('valuta='); //prendo il valore della valuta\n        let valuta = '';\n        if (posizioneValuta != -1)\n            valuta = window.location.href.slice(posizioneValuta+7, posizioneValuta+5+5);\n        \n\n        const posizioneData = window.location.href.indexOf('data='); //prendo il valore della data\n        let data = '';\n        if (posizioneData != -1)\n            data = window.location.href.slice(posizioneData+5, posizioneData+5+10);\n        \n\n        const corpo = {\n            valuta: valuta,\n            data: data\n        };\n\n        const risposta = await axios.post(url, corpo);\n        const oggetto = risposta.data;\n\n        \n        if (oggetto[\"ridirezione\"]) {\n            alert('Sessione scaduta');\n            window.location.href = 'http://localhost:3000/';\n        }\n        else {\n            if (oggetto[\"isTuttoOk\"])  {\n                if (oggetto[\"listaTransizioni\"] != '[]')\n                    creaTabella(oggetto[\"listaTransizioni\"]); //creo la tabella \n                \n            }\n            else\n                alert(oggetto[\"messaggio\"]);   \n        }\n    });\n\n    function creaTabella (lista) {\n        let nuovaTabella = '';\n        let valutaComprata = '';\n        let valutaSpesa = '';\n        for (let i = 0; i < lista.length; i++) {\n            if (i%2 == 1) //guardo se devo fare lo sfondo bianco o grigio\n                nuovaTabella = nuovaTabella + '<tr>';\n            \n            else\n                nuovaTabella = nuovaTabella + '<tr className = \"dispari\">';\n            \n            if (lista[i][\"valuta_comprata\"] == 'USD') { //setto le valute\n                valutaComprata = '$';\n                valutaSpesa = '€';\n            }\n            else {\n                valutaComprata = '€';\n                valutaSpesa = '$';\n            }\n\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_spesa\"].toFixed(2) + \" \" + valutaSpesa + \"</td>\"; //spesa\n            nuovaTabella = nuovaTabella + '<td>' + lista[i][\"quantita_comprata\"].toFixed(2) + \" \" + valutaComprata + \"</td>\"; //comprata\n            nuovaTabella = nuovaTabella + '<td>' + giraData(lista[i][\"data\"]) + \"</td>\"; //data\n            //nuovaTabella = nuovaTabella + '<td>' + lista[i][\"data\"] + \"</td>\"; //data\n            nuovaTabella = nuovaTabella + '</tr>';\n        }\n        setTabella(nuovaTabella);\n    }\n\n    function giraData(data) {\n       //trasformo da anno mese giorno a giorno mese anno\n        return data.slice(8, 10)+'-'+data.slice(5, 7)+'-'+data.slice(0, 4);\n    }\n\n    const handleLoginForm = async (e) => {\n        e.preventDefault();\n        const data = e.target.data.value;\n        const valuta = e.target.valuta.value;\n\n        if (!controllaValuta(valuta)) { // controlla la valuta\n            alert(\"Non hai inserito correttamente i soldi\");\n            return;\n        }\n\n        let nuovaQuery = 'http://localhost:3000/listTransactions';\n        if (data!='' || valuta!='') {\n            nuovaQuery = nuovaQuery+'?'\n            if (data!='' && valuta!='')\n                nuovaQuery = nuovaQuery+'data='+data+'&valuta='+valuta;\n            \n            else if (data!='')\n                nuovaQuery = nuovaQuery+'data='+data;\n            \n            else\n                nuovaQuery = nuovaQuery+'valuta='+valuta;\n        }\n        window.location.href = nuovaQuery;\n    }\n\n    return (\n        <div className=\"listTransactions\">\n            <h1>Storico delle transizioni</h1>\n\n            <table>\n                <thead>\n                    <tr>\n                        <th>Quantita Spesa</th>\n                        <th>Quantita Comprata</th>\n                        <th>Data</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {parse(tabella) /* creo la tabella*/ }\n                </tbody>\n            </table>\n            \n            <h2>Filtri</h2>\n            <form id = \"form\" onSubmit = {handleLoginForm}>\n                <input type=\"date\" id=\"data\" name=\"data\" /> <br /> <br />\n\n                <select id=\"valuta\" name=\"valuta\" form='form'>\n                    <option value=\"\">Nessuna</option>\n                    <option value=\"USD\">USD</option>\n                    <option value=\"EUR\">EUR</option>\n                </select> <br /> <br />\n                <input id='bottoneInterno' type='submit'/>\n            </form>\n        </div> \n    );\n}\n \nexport default ListTransactions;"]},"metadata":{},"sourceType":"module"}